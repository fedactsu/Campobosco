<!doctype html>
<html lang="en">

<head>
    <title> CampoBOSCO 2024 Liturgia </title>
    <meta charset="utf-8">

    <!-- Bootstrap CSS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/boot/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/botones.css') }}">

    <link rel="shortcut icon" href="{{ url_for('static', filename='Favicon.png') }}">
    <style>
        body {
            background-color: #361439;
        }

        footer {
            padding: 10px;
        }
    </style>

</head>

<body>
    <header>

    </header>
    <main>

        <div class="d-flex flex-column justify-content-center align-items-center" style="height: 100vh;">

            <img src="{{ url_for('static', filename='img/imagenes_CP50/cpb50_sin.png') }}" alt="Logo Campobosco"
                style="max-width: 70%; height: auto;">
            <div id="idhora"></div>

            <button onclick="location.href='/inicio'" type="button" class=" btncampobosco mt-3">ü§ôBienvenid@s‚úåÔ∏è</button>

            <button type="button" class="btn3 mt-3" style="background-color: #66b352; color: #361439; padding: 10px;"
                id="cache-btn">üåêDescargar<br>toda la p√°ginaüíª</button>
            {% if device == "WEB" %}
            {% else %}
            <button type="button" class="mt-3 btn2" style="color: black;" onclick="location.href='/comoagregar'">ü§≥¬øC√≥mo
                agregar<br>al inicio en {{device}}? üì≤</button>
            {% endif %}
            <a type="button" class="btn mt-3" style="background-color: #361439; color: aliceblue; padding: 10px;"
                onclick="pepe()">Creditos</a>


        </div>

        <!-- Spinner de carga -->
        <div id="loading" class="text-center mt-4" style="display:none;">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Cargando...</span>
            </div>
            <p>Guardando la p√°gina en cach√©, por favor espera...</p>
        </div>
    </main>
    <footer>
    </footer>
    <script src="{{ url_for('static',filename='js/bootjs/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static',filename='js/sweetalert2.all.min.js') }}"></script>
    <script>
        function pepe() {
            Swal.fire({
                title: "Equipo de Liturgia",
                html: `Trabajo realizado por el equipo de liturgia<br>
               Cualquier cosa que necesiten, no duden en buscarnos en el campamento.<br>
               V. 1.29.10.24`,

            });
        }

        document.getElementById('cache-btn').addEventListener('click', () => {
            caches.open('offline-cache-v9').then(function (cache) {
                cache.addAll([
                    '/',
                    '/static/Favicon.png',
                    '/static/css/botones.css',
                    '/static/css/boot/bootstrap.css',
                    '/static/css/boot/bootstrap.min.css',
                    '/static/css/leaflet.css',
                    '/static/fonts/neutraface2display_thin.otf',
                    '/static/fonts/NovecentoCondUltraBold.otf',
                    '/static/img/atras.png',
                    '/static/img/imagenes_CP50/CAMPO/btndomingo.png',
                    '/static/img/imagenes_CP50/CAMPO/btnjueves.png',
                    '/static/img/imagenes_CP50/CAMPO/btnMapa01.png',
                    '/static/img/imagenes_CP50/CAMPO/btnmiercoles.png',
                    '/static/img/imagenes_CP50/CAMPO/btnsabado.png',
                    '/static/img/imagenes_CP50/CAMPO/btnviernes.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_cancionero2.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_eucaristia.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_eucaristia_claro.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_liturgia_manana_claro.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_campobosco_acerca.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_oracion_manana.png',
                    '/static/img/imagenes_CP50/CAMPO/horario_claro_1.png',
                    '/static/img/imagenes_CP50/CAMPO/horario_rosado_1.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_turin.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_roma.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_nizza.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_mornese.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_ibecchi.png',
                    '/static/img/imagenes_CP50/CAMPO/atras.png',
                    '/static/img/imagenes_CP50/CAMPO/vocacional.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_mapa_offline.png',
                    '/static/img/imagenes_CP50/CAMPO/btn_mapa_online.png',
                    '/static/img/imagenes_CP50/CP50/ceferinosinfondo01.png',
                    '/static/img/imagenes_CP50/CP50/circulo_01.png',
                    '/static/img/imagenes_CP50/CP50/dbmm.png',
                    '/static/img/imagenes_CP50/CP50/DBStefan.png',
                    '/static/img/imagenes_CP50/CP50/domingosavio01.png',
                    '/static/img/imagenes_CP50/CP50/donboscofrente.png',
                    '/static/img/imagenes_CP50/CP50/gente_bosco.png',
                    '/static/img/imagenes_CP50/CP50/laurasinfondo01.png',
                    '/static/img/imagenes_CP50/CP50/logocampobosco.png',
                    '/static/img/imagenes_CP50/CP50/logoredondo01.png',
                    '/static/img/imagenes_CP50/CP50/mariamazarello01.png',
                    '/static/img/imagenes_CP50/CP50/santos_salesianos.png',
                    '/static/img/imagenes_CP50/vocacional/1_fma.png',
                    '/static/img/imagenes_CP50/vocacional/2_fma.png',
                    '/static/img/imagenes_CP50/vocacional/2_sdb.png',
                    '/static/img/imagenes_CP50/vocacional/3_fma.png',
                    '/static/img/imagenes_CP50/vocacional/3_sdb.png',
                    '/static/img/imagenes_CP50/vocacional/4_fma.png',
                    '/static/img/imagenes_CP50/vocacional/4_sdb.png',
                    '/static/img/imagenes_CP50/vocacional/5_fma.png',
                    '/static/img/imagenes_CP50/vocacional/5_sdb.png',
                    '/static/img/imagenes_CP50/vocacional/sdb.png',
                    '/static/img/imagenes_CP50/GRUPOS/0BTN_GRUPOS.png',
                    '/static/img/imagenes_CP50/GRUPOS/1DOCE.png',
                    '/static/img/imagenes_CP50/GRUPOS/2QUINCE.png',
                    '/static/img/imagenes_CP50/GRUPOS/3DIECISEIS.png',
                    '/static/img/imagenes_CP50/GRUPOS/4DIECISIETE.png',
                    '/static/img/imagenes_CP50/GRUPOS/5DIECIOCHO.png',
                    '/static/img/imagenes_CP50/mapa/mapa_picarquin.jpeg',
                    '/static/img/imagenes_CP50/mapa/norte.png',
                    '/static/img/imagenes_CP50/documentos/btn_carta_identidad.png',
                    '/static/img/imagenes_CP50/documentos/btn_documentos_gnral.png',
                    '/static/img/imagenes_CP50/documentos/btn_protocolo.png',
                    '/static/img/imagenes_CP50/talleres/btn_talleres.png',
                    '/static/img/imagenes_CP50/talleres/talleres.jpeg',
                    '/static/img/imagenes_CP50/cpb50_sin.png',
                    '/static/img/imagenes_CP50/10240por1024.png',
                    '/static/js/jquery.min.js',
                    '/static/js/leaflet.js',
                    '/static/js/holder.js',
                    '/static/js/service-worker.js',
                    '/static/js/sweetalert2.all.min.js',
                    '/static/js/bootjs/bootstrap.min.js',
                    '/static/js/bootjs/bootstrap.min.js.map',
                    '/static/js/bootjs/bootstrap.bundle.min.js',
                    '/static/js/bootjs/popper.min.js',
                    '/static/js/tamanoletra.js',
                    '/static/js/bootjs/jquery.mlens-1.7.min.js',
                    '/inicio',
                    '/miercoles',
                    '/miercoles/laudes',
                    '/miercoles/misa',
                    '/miercoles/horario',
                    '/jueves',
                    '/jueves/laudes',
                    '/jueves/misa',
                    '/jueves/horario',
                    '/viernes',
                    '/viernes/laudes',
                    '/viernes/misa',
                    '/viernes/horario',
                    '/sabado',
                    '/sabado/laudes',
                    '/sabado/misa',
                    '/sabado/horario',
                    '/domingo',
                    '/domingo/laudes',
                    '/domingo/misa',
                    '/domingo/horario',
                    '/mapalugar',
                    '/mapalugar/online',
                    '/mapalugar/offline',
                    '/vocacional',
                    '/acercade',
                    '/documentos',
                    '/documentos/carta_identidad',
                    '/documentos/protocolo_campamento',
                    '/talleres',
                    '/cancionero',
                    '/cancionero/0',
                    '/cancionero/1',
                    '/cancionero/2',
                    '/cancionero/3',
                    '/cancionero/4',
                    '/cancionero/5',
                    '/cancionero/6',
                    '/cancionero/7',
                    '/cancionero/8',
                    '/cancionero/9',
                    '/cancionero/10',
                    '/cancionero/11',
                    '/cancionero/12',
                    '/cancionero/13',
                    '/cancionero/14',
                    '/cancionero/15',
                    '/cancionero/16',
                    '/cancionero/17',
                    '/cancionero/18',
                    '/cancionero/19',
                    '/cancionero/20',
                    '/cancionero/21',
                    '/cancionero/22',
                    '/cancionero/23',
                    '/cancionero/24',
                    '/cancionero/25',
                    '/cancionero/26',
                    '/taller/1',
                    '/taller/2',
                    '/taller/3',
                    '/taller/4',
                    '/taller/5',
                    '/taller/6',
                    '/taller/7',
                    '/taller/8',
                    '/taller/9',
                    '/taller/10',
                    '/taller/11',
                    '/taller/12',
                    '/taller/13',
                    '/taller/14',
                    '/taller/15',
                    '/taller/16',
                    '/taller/17',
                    '/taller/18',
                    '/taller/19',
                    '/taller/20',
                    '/taller/21',
                    '/taller/22',
                    '/taller/23',
                    '/taller/24',
                    '/taller/25',
                    '/taller/26',
                    '/taller/27',
                    '/taller/28',
                    '/taller/29',
                    '/taller/30',
                    '/taller/31',
                    '/taller/32',
                    '/taller/33',
                    '/taller/34',
                    '/taller/35',
                    '/taller/36',
                    '/taller/37',
                    '/taller/38',
                    '/taller/39',
                    '/taller/40',
                    '/taller/41',
                    '/taller/42',
                    '/taller/43',
                    '/taller/44',
                    '/taller/45',
                    '/taller/46',
                    '/taller/47',
                    '/taller/48',
                    '/taller/49',
                    '/taller/50',
                    '/taller/51',
                    '/taller/52',
                    '/taller/53',
                    '/taller/54',
                    '/taller/55',
                    '/taller/56',
                    '/taller/57',
                    '/grupos',
                    '/grupos/grupo12',
                    '/grupos/grupo15',
                    '/grupos/grupo16',
                    '/grupos/grupo17',
                    '/grupos/grupo18',

                ]);
            });
            Swal.fire({
                title: "√âxitos",
                text: "P√°gina guardada correctamente",
                icon: "success"
            });
        });

        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function () {
                navigator.serviceWorker.register('/service-worker.js').then(function (registration) {
                    console.log('ServiceWorker registrado con √©xito:', registration);

                    registration.onupdatefound = function () {
                        const installingWorker = registration.installing;
                        installingWorker.onstatechange = function () {
                            if (installingWorker.state === 'installed') {
                                if (navigator.serviceWorker.controller) {
                                    // Nueva versi√≥n encontrada, se actualiza todo
                                    console.log('Nuevo contenido disponible, actualizando...');
                                    if (confirm("Hay una nueva versi√≥n disponible. ¬øDeseas actualizar?")) {
                                        window.location.reload();  // Recarga la p√°gina para cargar los nuevos recursos
                                    }
                                } else {
                                    // El contenido est√° cacheado para usar sin conexi√≥n por primera vez
                                    console.log('Contenido cacheado para usar sin conexi√≥n');
                                }
                            }
                        };
                    };
                }).catch(function (error) {
                    console.log('Error al registrar el ServiceWorker:', error);
                });
            });
        }

    </script>

    <script>
        function determinarMomentoDelDia() {
            const horaActual = new Date().getHours();

            if (6 <= horaActual && horaActual < 8) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>Hola buenos d√≠as‚úåÔ∏è</h3>";
            } else if (8 <= horaActual && horaActual < 13) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>Buena jornada üë©‚Äçüè≠üå¥</h3>";
            } else if (13 <= horaActual && horaActual < 14) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>üç¢A comeer!! üçï</h3>";
            } else if (14 <= horaActual && horaActual < 19) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>‚òÄÔ∏èü´°Buena tarde </h3>";
            } else if (horaActual === 19) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>‚õ™Vamos a misa ‚úùÔ∏è</h3>";
            } else if (20 <= horaActual && horaActual < 21) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>vamos a cenarüåÉ</h3>";
            } else if (21 <= horaActual && horaActual < 24) {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>Buenas actividades nocturnas<br>üåâüåìüåô</h3>";
            } else {
                return "<h3 class='text-center' style='padding-left: 5%; padding-right: 5%;'>ü§´ü•∑shhh deben estar durmiendoüõåüèïÔ∏è</h3>";
            }
        }

        document.getElementById("idhora").innerHTML = determinarMomentoDelDia();
    </script>
    <div>
        <br><br><br><br><br><br><br><br><br> <br><br><br><br><br><br><br>
        {% include 'estructura/footer.html' %}
    </div>
</body>

</html>